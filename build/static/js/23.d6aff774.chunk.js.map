{"version":3,"sources":["views/admin/admin_views/servicio_nuevo/Download.jsx"],"names":["Download","sx","display","alignItems","justifyContent","variant","onClick","console","log","id","window","location","search","slice","axios","get","headers","Authorization","then","res","error","objbuilder","data","Content","win","open","document","write","background","color","history","push","reload"],"mappings":"+GAAA,qEA4DeA,UArDE,WAkCb,OACI,8BACI,eAAC,IAAD,CAAKC,GAAI,CAACC,QAAQ,OAAQC,WAAW,SAAUC,eAAe,UAA9D,UACI,cAAC,IAAD,CAAQC,QAAQ,YAChBC,QArCW,WACnBC,QAAQC,IAAI,eACZ,IAAMC,EAAKC,OAAOC,SAASC,OAAOC,MAAM,GAExCC,IAAMC,IAAN,2DAA8DN,GAAK,CAC/DO,QAAQ,CACJC,cAAe,oCAGtBC,MAAK,SAACC,EAAKC,GACRb,QAAQC,IAAIW,GACZ,IAAIE,EAAa,GACjBA,GAAe,wEACfA,GAAeF,EAAIG,KAAKC,QACxBF,GAAe,6CACfA,GAAe,2CACfA,GAAeF,EAAIG,KAAKC,QACxBF,GAAe,+BACfA,GAAe,YAEf,IAAIG,EAAMd,OAAOe,KAAK,IAAI,UAE1BD,EAAIE,SAASC,MAAM,4HACnBH,EAAIE,SAASC,MAAMN,GACnBG,EAAIE,SAASC,MAAM,sBAcf1B,GACI,CACI2B,WAAW,MACXC,MAAM,SALd,+BAUA,cAAC,IAAD,CAAQvB,QAlBD,WACfwB,IAAQC,KAAK,UACbrB,OAAOC,SAASqB,UAgBqB3B,QAAQ,YAAYJ,GAAI,CAAC2B,WAAW,OAAQC,MAAM,SAA/E","file":"static/js/23.d6aff774.chunk.js","sourcesContent":["import { Button } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\n// import download from 'js-file-download'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport history from '../../../../history'\r\n\r\nconst Download = () => {\r\n    const handleDownload = () => {\r\n        console.log(\"Descargando\")\r\n        const id = window.location.search.slice(4)\r\n\r\n        axios.get(`https://api.facturama.mx/api/Cfdi/pdf/issuedLite/${id}`,{\r\n            headers:{\r\n                Authorization: \"Basic R1VHWUJSQTpQYW5pYWd1YTE3\"\r\n            }\r\n        })\r\n        .then((res, error) => {\r\n            console.log(res)\r\n            var objbuilder = '';\r\n            objbuilder += ('<object width=\"100%\" height=\"100%\" data=\"data:application/pdf;base64,');\r\n            objbuilder += (res.data.Content);\r\n            objbuilder += ('\" type=\"application/pdf\" class=\"internal\">');\r\n            objbuilder += ('<embed src=\"data:application/pdf;base64,');\r\n            objbuilder += (res.data.Content);\r\n            objbuilder += ('\" type=\"application/pdf\"  />');\r\n            objbuilder += ('</object>');\r\n\r\n            var win = window.open(\"#\",\"_blank\");\r\n            var title = \"my tab title\";\r\n            win.document.write('<html><title>'+ title +'</title><body style=\"margin-top:0px; margin-left: 0px; margin-right: 0px; margin-bottom: 0px;\">');\r\n            win.document.write(objbuilder);\r\n            win.document.write('</body></html>');\r\n            // download(res.data.Content,'factura1.pdf', 'data:application/pdf;base64' )\r\n        })\r\n    } \r\n    const handleBack = () => {\r\n        history.push('/admin')\r\n        window.location.reload()\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <Box sx={{display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\r\n                <Button variant=\"contained\" \r\n                onClick={handleDownload}\r\n                sx={\r\n                    {\r\n                        background:\"red\", \r\n                        color:\"white\"\r\n                    }\r\n                }>\r\n                    Descargar factura\r\n                </Button>\r\n                <Button onClick={handleBack} variant=\"contained\" sx={{background:\"blue\", color:\"white\"}}>Volver al escritorio</Button>\r\n            </Box>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Download"],"sourceRoot":""}